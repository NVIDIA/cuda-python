<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 700" style="background-color: white;">
  <!-- Title -->
  <text x="400" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">CUDA Python CI Pipeline Flow</text>
  
  <!-- Trigger Events -->
  <rect x="50" y="40" width="700" height="60" rx="10" fill="#e8f4fd" stroke="#2196F3" stroke-width="2"/>
  <text x="400" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1976D2">TRIGGER EVENTS</text>
  <text x="200" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">• Push to main branch</text>
  <text x="400" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">• Pull request</text>
  <text x="600" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#333">• Manual workflow dispatch</text>
  
  <!-- Arrow down -->
  <path d="M400 100 L400 120" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Build Stage -->
  <rect x="50" y="130" width="700" height="120" rx="10" fill="#f3e5f5" stroke="#9C27B0" stroke-width="2"/>
  <text x="400" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7B1FA2">BUILD STAGE</text>
  
  <!-- Build platforms -->
  <rect x="80" y="170" width="180" height="70" rx="5" fill="white" stroke="#9C27B0"/>
  <text x="170" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">linux-64</text>
  <text x="170" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Self-hosted</text>
  <text x="170" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">(runners)</text>
  
  <rect x="310" y="170" width="180" height="70" rx="5" fill="white" stroke="#9C27B0"/>
  <text x="400" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">linux-aarch64</text>
  <text x="400" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Self-hosted</text>
  <text x="400" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">(runners)</text>
  
  <rect x="540" y="170" width="180" height="70" rx="5" fill="white" stroke="#9C27B0"/>
  <text x="630" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">win-64</text>
  <text x="630" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">GitHub-hosted</text>
  <text x="630" y="225" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">(runners)</text>
  
  <!-- Python versions info -->
  <text x="400" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#333">Python versions: 3.9, 3.10, 3.11, 3.12, 3.13 • CUDA: 13.0.0</text>
  
  <!-- Arrow down -->
  <path d="M400 250 L400 280" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Artifact Storage -->
  <rect x="50" y="290" width="700" height="100" rx="10" fill="#fff3e0" stroke="#FF9800" stroke-width="2"/>
  <text x="400" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#F57C00">ARTIFACT STORAGE</text>
  
  <!-- Artifact types -->
  <rect x="100" y="325" width="250" height="55" rx="5" fill="white" stroke="#FF9800"/>
  <text x="225" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">GitHub Artifacts</text>
  <text x="225" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• Wheel files (.whl)</text>
  <text x="225" y="372" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">(30-day retention)</text>
  
  <rect x="450" y="325" width="250" height="55" rx="5" fill="white" stroke="#FF9800"/>
  <text x="575" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">GitHub Cache</text>
  <text x="575" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">• Mini CTK cache</text>
  
  <!-- Cross-branch artifact flows -->
  <text x="75" y="400" font-family="Arial, sans-serif" font-size="11" fill="#E91E63" font-weight="bold">Artifact Flows:</text>
  <text x="200" y="400" font-family="Arial, sans-serif" font-size="10" fill="#E91E63">cuda-pathfinder: main → backport</text>
  <text x="450" y="400" font-family="Arial, sans-serif" font-size="10" fill="#E91E63">older cuda-bindings: backport → main</text>
  
  <!-- Arrow down -->
  <path d="M400 410 L400 430" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Test Stage -->
  <rect x="50" y="440" width="700" height="100" rx="10" fill="#e8f5e8" stroke="#4CAF50" stroke-width="2"/>
  <text x="400" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388E3C">TEST STAGE</text>
  
  <!-- Test platforms -->
  <rect x="80" y="475" width="180" height="55" rx="5" fill="white" stroke="#4CAF50"/>
  <text x="170" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">linux-64</text>
  <text x="170" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Self-hosted</text>
  <text x="170" y="522" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">GPU runners</text>
  
  <rect x="310" y="475" width="180" height="55" rx="5" fill="white" stroke="#4CAF50"/>
  <text x="400" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">linux-aarch64</text>
  <text x="400" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Self-hosted</text>
  <text x="400" y="522" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">GPU runners</text>
  
  <rect x="540" y="475" width="180" height="55" rx="5" fill="white" stroke="#4CAF50"/>
  <text x="630" y="495" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">win-64</text>
  <text x="630" y="510" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">GitHub-hosted</text>
  <text x="630" y="522" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">GPU runners</text>
  
  <!-- Arrow down -->
  <path d="M400 540 L400 560" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Release Pipeline -->
  <rect x="50" y="570" width="700" height="100" rx="10" fill="#ffebee" stroke="#f44336" stroke-width="2"/>
  <text x="400" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#D32F2F">RELEASE PIPELINE</text>
  
  <!-- Release stages -->
  <rect x="100" y="605" width="150" height="50" rx="5" fill="white" stroke="#f44336"/>
  <text x="175" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Validation</text>
  <text x="175" y="640" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Artifact integrity</text>
  <text x="175" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Git tag verification</text>
  
  <path d="M250 630 L300 630" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <rect x="325" y="605" width="150" height="50" rx="5" fill="white" stroke="#f44336"/>
  <text x="400" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Publishing</text>
  <text x="400" y="640" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">PyPI/TestPyPI</text>
  <text x="400" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Component releases</text>
  
  <path d="M475 630 L525 630" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <rect x="550" y="605" width="150" height="50" rx="5" fill="white" stroke="#f44336"/>
  <text x="625" y="625" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#333">Documentation</text>
  <text x="625" y="640" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">GitHub Pages</text>
  <text x="625" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">API docs</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
</svg>